{"ast":null,"code":"import _toConsumableArray from \"/home/zimo/zimo-super-admin-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/zimo/zimo-super-admin-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/zimo/zimo-super-admin-frontend/src/pages/Departments/Listdepartment.js\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport * as Apis from '../../enviornment/Apis';\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Pagination from '@mui/material/Pagination';\nimport Spinner from '../../Components/spinner/Spinner';\nexport default function Listdepartment() {\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      spinner = _useState2[0],\n      setspinner = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      totalCount = _useState4[0],\n      settotalCount = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      list = _useState6[0],\n      setlist = _useState6[1];\n\n  var _useState7 = useState(\"asc\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      sortOrder = _useState8[0],\n      setsortOrder = _useState8[1];\n\n  var Count = 5;\n\n  var sorting = function sorting(col) {\n    if (sortOrder === \"asc\") {\n      var sorted = _toConsumableArray(list).sort(function (a, b) {\n        return a[col].toLowerCase() > b[col].toLowerCase() ? 1 : -1;\n      });\n\n      setlist(sorted);\n      setsortOrder(\"dsc\");\n    }\n  };\n\n  useEffect(function () {\n    getdata(1);\n  }, []);\n\n  var getdata = function getdata(page) {\n    var data = {\n      createdById: \"61a0dab0777b848f7b22f811\",\n      count: Count,\n      page: page\n    };\n    axios.post(Apis.departmentlist(), data).then(function (response) {\n      setlist(response.data.data);\n      settotalCount(response.data.totalCount);\n      setspinner(false);\n    });\n  };\n\n  var deleteTitle = function deleteTitle(_id) {\n    axios.post(Apis.departmentDelet(), {\n      _id: _id\n    }).then(function (response) {\n      toast(response.data.message);\n      getdata();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 1\n    }\n  }), spinner && /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 28\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"   Department list\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-warning \",\n    to: \"/department/add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, \"Add Department\")))), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    onClick: function onClick() {\n      return sorting(\"s_no\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"S.no\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    onClick: function onClick() {\n      return sorting(\"title\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, list.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    }, \"\".concat(index + 1)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, item.title, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"btn btn-success m-2\",\n      to: \"/department/edit/\".concat(item._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"bi bi-pencil-square\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 117\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger m-2\",\n      onClick: function onClick() {\n        deleteTitle(item._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"bi bi-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 45\n      }\n    }))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center m-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: Math.ceil(totalCount / Count),\n    showFirstButton: true,\n    showLastButton: true,\n    onChange: function onChange(event, value) {\n      getdata(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/home/zimo/zimo-super-admin-frontend/src/pages/Departments/Listdepartment.js"],"names":["Link","axios","Apis","React","useState","useEffect","ToastContainer","toast","Pagination","Spinner","Listdepartment","spinner","setspinner","totalCount","settotalCount","list","setlist","sortOrder","setsortOrder","Count","sorting","col","sorted","sort","a","b","toLowerCase","getdata","page","data","createdById","count","post","departmentlist","then","response","deleteTitle","_id","departmentDelet","message","map","item","index","title","Math","ceil","event","value"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport * as Apis from '../../enviornment/Apis'\nimport React, { useState, useEffect } from 'react'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Pagination from '@mui/material/Pagination';\nimport Spinner from '../../Components/spinner/Spinner';\n\n\n\nexport default function Listdepartment() {\n    const [spinner, setspinner] = useState(true)\n    const [totalCount, settotalCount] = useState(0)\n    const [list, setlist] = useState([]);\n    const [ sortOrder, setsortOrder]= useState( \"asc\")\n\n    let Count = 5\n\n  const sorting =(col)=>{\n      if ( sortOrder === \"asc\"){\n          const sorted = [...list].sort((a,b)=>\n          a[col].toLowerCase()> b[col].toLowerCase()?1:-1\n          );\n          setlist(sorted);\n          setsortOrder(\"dsc\")\n      }\n  }\n\n    useEffect(() => {\n        getdata(1)\n    }, [])\n\n    const getdata = (page) => {\n        let data = {\n\n            createdById: \"61a0dab0777b848f7b22f811\",\n            count: Count,\n            page: page\n\n        }\n\n        axios.post(Apis.departmentlist(), data).then((response) => {\n\n            setlist(response.data.data)\n            settotalCount(response.data.totalCount)\n            setspinner(false)\n\n        })\n    };\n\n    const deleteTitle = (_id) => {\n\n        axios.post(Apis.departmentDelet(), {\n            _id: _id,\n\n\n        }).then((response) => {\n            toast(response.data.message);\n\n            getdata()\n        })\n    }\n\n    return (\n\n\n        <div>\n<div className=\"container\"></div>\n            {\n                spinner && <Spinner />\n            }\n            <div className=\"container\">\n                <div>\n                    <h3 className=\"text-center\">   Department list</h3>\n                    <div className=\"text-left d-flex justify-content-end\">\n                        <Link className=\"btn btn-warning \" to=\"/department/add\">\n                            <h4>Add Department</h4>\n                        </Link>\n                    </div>\n                </div>\n\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\" onClick={()=>sorting(\"s_no\")}>S.no</th>\n                            <th scope=\"col\" onClick={()=>sorting(\"title\")}>Title</th>\n                            <th scope=\"col\" >Actions</th>\n\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            list.map((item, index) => (\n\n                                <tr key={item._id}>\n                                    <th scope=\"row\">{`${index + 1}`}</th>\n                                    <td>{item.title} </td>\n                                    <td>\n                                        <Link className=\"btn btn-success m-2\" to={`/department/edit/${item._id}`}  ><i className=\"bi bi-pencil-square\"></i></Link>\n                                        <button className=\"btn btn-danger m-2\" onClick={() => { deleteTitle(item._id) }} >\n                                            <i className=\"bi bi-trash\"></i></button>\n                                    </td>\n                                </tr>\n\n                            )\n\n                            )}\n\n                    </tbody>\n                </table>\n                <div className=\"d-flex justify-content-center m-4\">\n\n                    <Pagination\n                        count={Math.ceil(totalCount / Count)}\n                        showFirstButton\n                        showLastButton\n                        onChange={(event, value) => {\n                            getdata(value)\n                        }}\n\n                    />\n                </div>\n            </div>\n            <ToastContainer />\n        </div>\n    )\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}