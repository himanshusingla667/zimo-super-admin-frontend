{"ast":null,"code":"import _slicedToArray from \"/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/src/pages/Departments/Editdepartment.js\";\nimport React, { useEffect, useState } from 'react';\nimport { TextField } from '@mui/material';\nimport { useFormik } from 'formik';\nimport validation from '../../context/validation';\nimport axios from 'axios'; // import * as Apis from '../../enviornment/enviornment'\n\nimport * as Apis from '../../context/Api';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport Spinner from '../../Components/spinner/Spinner';\nimport Info from '../../context/Info';\nexport default function Editdepartment() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      spinner = _useState2[0],\n      setspinner = _useState2[1]; // let history = useHistory();\n\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  useEffect(function () {\n    getdetails();\n  }, []);\n\n  var getdetails = function getdetails() {\n    var data = {\n      _id: id\n    };\n    axios.post(Apis.departmentdetails(), data).then(function (response) {\n      setspinner(false);\n\n      for (var item in formik.initialValues) {\n        formik.setFieldValue(item, response.data.data[item]); // toast(response.data.message);\n      }\n    });\n  };\n\n  var formik = useFormik({\n    initialValues: {\n      title: \"\",\n      createdById: Info.userInfo._id\n    },\n    validationSchema: Yup.object({\n      title: Yup.string().max(30, 'Must be 30 characters or less').required(\"Enter Your title\").matches(validation.pattern.NAME, ' not valid').matches(validation.pattern.BACKSPACE, ' not valid')\n    }),\n    onSubmit: function onSubmit(values) {\n      var updateObj = {\n        _id: id,\n        title: values.title\n      };\n      axios.post(Apis.departmentupdate(), updateObj).then(function (response) {\n        if (response.data.code === 200) {\n          toast(response.data.message);\n          history.push(\"/department/list\");\n        } else {\n          toast(response.data.message);\n        }\n      });\n    }\n  });\n  var history = useHistory();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, spinner && /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"   Department list\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-warning \",\n    to: \"/department/add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, \"Edit Department\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"position-relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"title\",\n    name: \"title\",\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    value: formik.values.title,\n    type: \"text\",\n    className: \"d-flex m-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \" form_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-person-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 62\n    }\n  }))), formik.touched.title && formik.errors.title ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text_error_message text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, formik.errors.title) : null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/department/list\",\n    className: \"btn btn-success m-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, \"Back\"))))), /*#__PURE__*/React.createElement(ToastContainer, {\n    position: \"top-center\",\n    autoClose: 5000,\n    hideProgressBar: false,\n    newestOnTop: false,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnFocusLoss: true,\n    draggable: true,\n    pauseOnHover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/src/pages/Departments/Editdepartment.js"],"names":["React","useEffect","useState","TextField","useFormik","validation","axios","Apis","toast","ToastContainer","Link","useHistory","useParams","Yup","Spinner","Info","Editdepartment","spinner","setspinner","id","getdetails","data","_id","post","departmentdetails","then","response","item","formik","initialValues","setFieldValue","title","createdById","userInfo","validationSchema","object","string","max","required","matches","pattern","NAME","BACKSPACE","onSubmit","values","updateObj","departmentupdate","code","message","history","push","handleSubmit","handleChange","handleBlur","touched","errors"],"mappings":"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","sourcesContent":["import React, { useEffect,useState } from 'react'\nimport { TextField } from '@mui/material'\nimport { useFormik } from 'formik'\nimport validation from '../../context/validation'\nimport axios from 'axios'\n// import * as Apis from '../../enviornment/enviornment'\nimport * as Apis from '../../context/Api'\nimport { toast, ToastContainer } from 'react-toastify'\nimport { Link, useHistory, useParams } from 'react-router-dom'\nimport * as Yup from 'yup'\nimport Spinner from '../../Components/spinner/Spinner';\nimport Info from '../../context/Info'\n\n\nexport default function Editdepartment() {\n    const [spinner, setspinner] = useState(true)\n\n    // let history = useHistory();\n    const { id } = useParams()\n\n\n    useEffect(\n        () => {\n            getdetails();\n\n        }, [])\n\n    const getdetails = () => {\n        let data = {\n            _id: id,\n        }\n        axios.post(Apis.departmentdetails(), data).then((response) => {\n            setspinner(false)   \n            for (let item in formik.initialValues) {\n                formik.setFieldValue(item, response.data.data[item])\n                // toast(response.data.message);\n            }\n        })\n    };\n\n    const formik = useFormik({\n        initialValues: {\n            title: \"\",\n            createdById: Info.userInfo._id,\n        },\n        validationSchema: Yup.object({\n            title: Yup.string().max(30, 'Must be 30 characters or less').required(\"Enter Your title\")\n                .matches(validation.pattern.NAME, ' not valid')\n                .matches(validation.pattern.BACKSPACE, ' not valid'),\n        }),\n        onSubmit: (values) => {\n            let updateObj = {\n                _id: id,\n                title: values.title,\n            }\n            axios.post(Apis.departmentupdate(), updateObj).then((response) => {\n\n                if (response.data.code === 200) {\n                    toast(response.data.message);\n\n                    history.push(\"/department/list\");\n                } else {\n                    toast(response.data.message);\n                }\n            })\n        }\n    });\n\n    const history = useHistory();\n    return (\n        <>\n\n            <div className=\"container\">\n\n        {\n            spinner && <Spinner />\n        }\n         <div>\n                    <h3 className=\"text-center\">   Department list</h3>\n                    <div className=\"text-left d-flex justify-content-end\">\n                        <Link className=\"btn btn-warning \" to=\"/department/add\">\n                            <h4>Edit Department</h4>\n                        </Link>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        <form onSubmit={formik.handleSubmit}>\n                            <div className='position-relative'>\n                                <TextField\n                                    label='title'\n                                    name=\"title\"\n                                    onChange={formik.handleChange}\n                                    onBlur={formik.handleBlur}\n                                    value={formik.values.title}\n                                    type='text' className='d-flex m-4' />\n                                <span className=\" form_icon\"><i className=\"bi bi-person-circle\"></i></span>\n                            </div>\n                            {formik.touched.title && formik.errors.title ? (\n                                <span className='text_error_message text-danger' >{formik.errors.title}</span>\n                            ) : null}\n                            <div>\n\n                                <button type=\"submit\" className=\"btn btn-danger\" >Edit</button>\n\n                                <Link to=\"/department/list\" className=\"btn btn-success m-3\">Back</Link>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <ToastContainer\n                    position=\"top-center\"\n                    autoClose={5000}\n                    hideProgressBar={false}\n                    newestOnTop={false}\n                    closeOnClick\n                    rtl={false}\n                    pauseOnFocusLoss\n                    draggable\n                    pauseOnHover\n                />\n            </div>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}