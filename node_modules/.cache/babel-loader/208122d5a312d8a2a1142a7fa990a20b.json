{"ast":null,"code":"import _toConsumableArray from \"/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/src/pages/designation/Designationlist.js\";\nimport { makeStyles, Table, TableBody, TableCell, TableHead, TableRow } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport * as Apis from '../../context/Api';\nimport './designation.css';\nimport Pagination from '@mui/material/Pagination';\nimport TableContainer from '@mui/material/TableContainer';\nimport Paper from '@mui/material/Paper';\nimport Info from '../../context/Info';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport Button from '@mui/material/Button';\nvar useStyle = makeStyles({\n  table: {\n    width: '70%',\n    margin: '10px 0 0 100px',\n    fontSize: '50'\n  },\n  thead: {\n    '& > *': {\n      background: '#000000',\n      color: '#ffffff'\n    }\n  }\n});\nexport default function Designationlist() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState('false'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setstatus = _useState4[1]; //\n\n\n  var _useState5 = useState(\"asc\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortOrder = _useState6[0],\n      setsortOrder = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deletId = _useState8[0],\n      setdeletId = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      open = _useState10[0],\n      setOpen = _useState10[1];\n\n  var _useState11 = useState(1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      srpage = _useState12[0],\n      setsrpage = _useState12[1]; //seacrh bar start\n\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      searchTerm = _useState14[0],\n      setsearchTerm = _useState14[1]; //seacrh bar ends\n  //Pagination starts \n\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      totalCount = _useState16[0],\n      settotalCount = _useState16[1];\n\n  var Count = 4; // pagination ends\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var sorting = function sorting(col) {\n    if (sortOrder === \"asc\") {\n      var sorted = _toConsumableArray(users).sort(function (a, b) {\n        return a[col].toLowerCase() > b[col].toLowerCase() ? 1 : -1;\n      });\n\n      setUsers(sorted);\n      setsortOrder(\"dsc\");\n    }\n\n    if (sortOrder === \"dsc\") {\n      var _sorted = _toConsumableArray(users).sort(function (a, b) {\n        return a[col].toLowerCase() < b[col].toLowerCase() ? 1 : -1;\n      });\n\n      setUsers(_sorted);\n      setsortOrder(\"asc\");\n    }\n  }; //\n\n\n  var classes = useStyle();\n  useEffect(function () {\n    getData(1);\n  }, [active]);\n\n  var getData = function getData(page) {\n    var data = {\n      createdById: Info.userInfo._id,\n      searchText: searchTerm,\n      page: page,\n      count: Count,\n      isDeleted: false\n    };\n    axios.post(Apis.deslist(), data).then(function (response) {\n      setUsers(response.data.data);\n      settotalCount(response.data.totalCount);\n      console.log(response.data.totalCount);\n      setsrpage(page);\n    });\n  };\n\n  var deleteUserData = function deleteUserData(_id) {\n    axios.post(Apis.delDes(), {\n      _id: _id\n    }).then(function (response) {\n      getData();\n      toast(response.data.message);\n      setOpen(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search...\",\n    value: searchTerm,\n    className: \"form-control mb-2\",\n    onChange: function onChange(e) {\n      setsearchTerm(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    class: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, \"Active status\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, \"Active\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, \"In active\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    class: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }, \"Delete Status\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, \"Deleted\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, \"Not Deleted\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary \",\n    onClick: function onClick() {\n      if (searchTerm) {\n        getData(1);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger \",\n    onClick: function onClick() {\n      setsearchTerm('');\n      getData(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, \" clear\"))))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 20\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/adddesignation\",\n    className: \" btn btn-primary \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, \"Add New Designation\"), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, \"S.No\"), /*#__PURE__*/React.createElement(TableCell, {\n    onClick: function onClick() {\n      return sorting(\"title\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, \"department\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-chevron-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 83\n    }\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    onClick: function onClick() {\n      return sorting(\"title\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 29\n    }\n  }, \"Designation \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-chevron-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 85\n    }\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 29\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, users.map(function (user, index) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }, Count * (srpage - 1) + index + 1), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 37\n      }\n    }, user.title), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 37\n      }\n    }, user.departmentTitle), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"btn btn-success m-2\",\n      to: \"/editdesignation/\".concat(user._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"bi bi-pencil-square\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 116\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: function onClick() {\n        setdeletId(user._id);\n        handleClickOpen();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"bi bi-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"draggable-dialog-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(DialogContent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(DialogContentText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 49\n      }\n    }, \"Are you sure to delete this information..?\")), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      autoFocus: true,\n      onClick: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 49\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick() {\n        deleteUserData(deletId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 49\n      }\n    }, \"Yes \")))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" d-flex justify-content-center m-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: Math.ceil(totalCount / Count),\n    onChange: function onChange(event, value) {\n      getData(value);\n    },\n    shape: \"rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/home/zimo/Zimo_Admin_Frontend/zimo-super-admin-frontend/src/pages/designation/Designationlist.js"],"names":["makeStyles","Table","TableBody","TableCell","TableHead","TableRow","React","useEffect","useState","Link","ToastContainer","toast","axios","Apis","Pagination","TableContainer","Paper","Info","Dialog","DialogActions","DialogContent","DialogContentText","Button","useStyle","table","width","margin","fontSize","thead","background","color","Designationlist","users","setUsers","status","setstatus","sortOrder","setsortOrder","deletId","setdeletId","open","setOpen","srpage","setsrpage","searchTerm","setsearchTerm","totalCount","settotalCount","Count","handleClickOpen","handleClose","sorting","col","sorted","sort","a","b","toLowerCase","classes","getData","active","page","data","createdById","userInfo","_id","searchText","count","isDeleted","post","deslist","then","response","console","log","deleteUserData","delDes","message","e","target","value","map","user","index","title","departmentTitle","Math","ceil","event"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,KAArB,EAA4BC,SAA5B,EAAuCC,SAAvC,EAAkDC,SAAlD,EAA6DC,QAA7D,QAA6E,mBAA7E;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,KAAKC,IAAZ,MAAsB,mBAAtB;AACA,OAAO,mBAAP;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,iBAAP,MAA8B,iCAA9B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAGA,IAAMC,QAAQ,GAAGvB,UAAU,CAAC;AACxBwB,EAAAA,KAAK,EAAE;AACHC,IAAAA,KAAK,EAAE,KADJ;AAEHC,IAAAA,MAAM,EAAE,gBAFL;AAGHC,IAAAA,QAAQ,EAAE;AAHP,GADiB;AAMxBC,EAAAA,KAAK,EAAE;AACH,aAAS;AACLC,MAAAA,UAAU,EAAE,SADP;AAELC,MAAAA,KAAK,EAAE;AAFF;AADN;AANiB,CAAD,CAA3B;AAaA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AAAA,kBAEZvB,QAAQ,CAAC,EAAD,CAFI;AAAA;AAAA,MAE/BwB,KAF+B;AAAA,MAExBC,QAFwB;;AAAA,mBAGVzB,QAAQ,CAAC,OAAD,CAHE;AAAA;AAAA,MAG/B0B,MAH+B;AAAA,MAGvBC,SAHuB,kBAItC;;;AAJsC,mBAKJ3B,QAAQ,CAAC,KAAD,CALJ;AAAA;AAAA,MAK/B4B,SAL+B;AAAA,MAKpBC,YALoB;;AAAA,mBAMR7B,QAAQ,CAAC,EAAD,CANA;AAAA;AAAA,MAM/B8B,OAN+B;AAAA,MAMtBC,UANsB;;AAAA,mBAOd/B,QAAQ,CAAC,KAAD,CAPM;AAAA;AAAA,MAO/BgC,IAP+B;AAAA,MAOzBC,OAPyB;;AAAA,oBAQVjC,QAAQ,CAAC,CAAD,CARE;AAAA;AAAA,MAQ/BkC,MAR+B;AAAA,MAQvBC,SARuB,mBAStC;;;AATsC,oBAUFnC,QAAQ,CAAC,EAAD,CAVN;AAAA;AAAA,MAU/BoC,UAV+B;AAAA,MAUnBC,aAVmB,mBAWtC;AAGA;;;AAdsC,oBAeFrC,QAAQ,CAAC,EAAD,CAfN;AAAA;AAAA,MAe/BsC,UAf+B;AAAA,MAenBC,aAfmB;;AAgBtC,MAAIC,KAAK,GAAG,CAAZ,CAhBsC,CAiBtC;;AAKA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC1BR,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;;AAGA,MAAMS,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBT,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAGA,MAAMU,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAS;AACrB,QAAIhB,SAAS,KAAK,KAAlB,EAAyB;AACrB,UAAMiB,MAAM,GAAG,mBAAIrB,KAAJ,EAAWsB,IAAX,CAAgB,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAC3BD,CAAC,CAACH,GAAD,CAAD,CAAOK,WAAP,KAAuBD,CAAC,CAACJ,GAAD,CAAD,CAAOK,WAAP,EAAvB,GAA8C,CAA9C,GAAkD,CAAC,CADxB;AAAA,OAAhB,CAAf;;AAGAxB,MAAAA,QAAQ,CAACoB,MAAD,CAAR;AACAhB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;;AACD,QAAID,SAAS,KAAK,KAAlB,EAAyB;AACrB,UAAMiB,OAAM,GAAG,mBAAIrB,KAAJ,EAAWsB,IAAX,CAAgB,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAC3BD,CAAC,CAACH,GAAD,CAAD,CAAOK,WAAP,KAAuBD,CAAC,CAACJ,GAAD,CAAD,CAAOK,WAAP,EAAvB,GAA8C,CAA9C,GAAkD,CAAC,CADxB;AAAA,OAAhB,CAAf;;AAGAxB,MAAAA,QAAQ,CAACoB,OAAD,CAAR;AACAhB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GAfD,CA5BsC,CA4CtC;;;AAUA,MAAMqB,OAAO,GAAGnC,QAAQ,EAAxB;AAGAhB,EAAAA,SAAS,CACL,YAAM;AACFoD,IAAAA,OAAO,CAAC,CAAD,CAAP;AAEH,GAJI,EAIF,CAACC,MAAD,CAJE,CAAT;;AAOA,MAAMD,OAAO,GAAG,SAAVA,OAAU,CAACE,IAAD,EAAU;AACtB,QAAIC,IAAI,GAAG;AACPC,MAAAA,WAAW,EAAE9C,IAAI,CAAC+C,QAAL,CAAcC,GADpB;AAGPC,MAAAA,UAAU,EAAEtB,UAHL;AAIPiB,MAAAA,IAAI,EAAEA,IAJC;AAKPM,MAAAA,KAAK,EAAEnB,KALA;AAMPoB,MAAAA,SAAS,EAAE;AANJ,KAAX;AAUAxD,IAAAA,KAAK,CAACyD,IAAN,CAAWxD,IAAI,CAACyD,OAAL,EAAX,EAA2BR,IAA3B,EAAiCS,IAAjC,CAAsC,UAACC,QAAD,EAAc;AAChDvC,MAAAA,QAAQ,CAACuC,QAAQ,CAACV,IAAT,CAAcA,IAAf,CAAR;AACAf,MAAAA,aAAa,CAACyB,QAAQ,CAACV,IAAT,CAAchB,UAAf,CAAb;AACA2B,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACV,IAAT,CAAchB,UAA1B;AACAH,MAAAA,SAAS,CAACkB,IAAD,CAAT;AAGH,KAPD;AASH,GApBD;;AAsBA,MAAMc,cAAc,GAAG,SAAjBA,cAAiB,CAACV,GAAD,EAAS;AAC5BrD,IAAAA,KAAK,CAACyD,IAAN,CAAWxD,IAAI,CAAC+D,MAAL,EAAX,EAA0B;AACtBX,MAAAA,GAAG,EAAEA;AADiB,KAA1B,EAEGM,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBb,MAAAA,OAAO;AACPhD,MAAAA,KAAK,CAAC6D,QAAQ,CAACV,IAAT,CAAce,OAAf,CAAL;AACApC,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH,KAND;AAQH,GATD;;AAWA,sBAEI;AAAK,IAAA,SAAS,EAAEiB,OAAO,CAAClC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,WAA/B;AAA2C,IAAA,KAAK,EAAEoB,UAAlD;AAA8D,IAAA,SAAS,EAAC,mBAAxE;AACI,IAAA,QAAQ,EAAE,kBAACkC,CAAD,EAAO;AACbjC,MAAAA,aAAa,CAACiC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACH,KAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAQI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,KAAK,EAAC,aAAd;AAA4B,kBAAW,wBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAGI;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,CADJ,CARJ,eAgBI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,KAAK,EAAC,aAAd;AAA4B,kBAAW,wBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAGI;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,eAII;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJJ,CADJ,CAhBJ,eAwBI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,kBAAhC;AAAmD,IAAA,OAAO,EAAE,mBAAM;AAC9D,UAAIpC,UAAJ,EAAgB;AACZe,QAAAA,OAAO,CAAC,CAAD,CAAP;AACH;AAEJ,KALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CADJ,CAxBJ,eAiCI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,OAAO,EAAE,mBAAM;AAC/Cd,MAAAA,aAAa,CAAC,EAAD,CAAb;AACAc,MAAAA,OAAO,CAAC,CAAD,CAAP;AAEH,KAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CADJ,CAjCJ,CADJ,CADJ,eAgDI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhDJ,eAkEW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlEX,eAoEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,iBAAT;AAA2B,IAAA,SAAS,EAAC,mBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BApEJ,eAqEI,oBAAC,cAAD;AAAgB,IAAA,SAAS,EAAE3C,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,kBAAW,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAII,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAE;AAAA,aAAMmC,OAAO,CAAC,OAAD,CAAb;AAAA,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAsD;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtD,CAJJ,eAMI,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAE;AAAA,aAAMA,OAAO,CAAC,OAAD,CAAb;AAAA,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAwD;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAxD,CANJ,eAQI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,CADJ,CADJ,eAcI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQnB,KAAK,CAACiD,GAAN,CAAU,UAACC,IAAD,EAAOC,KAAP;AAAA,wBACN,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKnC,KAAK,IAAIN,MAAM,GAAG,CAAb,CAAL,GAAuByC,KAAvB,GAA+B,CADpC,CAFJ,eAMI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,IAAI,CAACE,KADV,CANJ,eASI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKF,IAAI,CAACG,eADV,CATJ,eAYI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,qBAAhB;AAAsC,MAAA,EAAE,6BAAsBH,IAAI,CAACjB,GAA3B,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA2E;AAAG,MAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3E,CADJ,eAEI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAE,mBAAM;AAC9C1B,QAAAA,UAAU,CAAC2C,IAAI,CAACjB,GAAN,CAAV;AACAhB,QAAAA,eAAe;AAClB,OAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAFJ,eAQI,oBAAC,MAAD;AACI,MAAA,IAAI,EAAET,IADV;AAEI,MAAA,OAAO,EAAEU,WAFb;AAGI,yBAAgB,wBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADJ,CALJ,eAUI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,MAAjB;AAAkB,MAAA,OAAO,EAAEA,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,mBAAM;AAAEyB,QAAAA,cAAc,CAACrC,OAAD,CAAd;AAAyB,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,CAVJ,CARJ,CAZJ,CADM;AAAA,GAAV,CAFR,CAdJ,CADJ,eAiEI;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,KAAK,EAAEgD,IAAI,CAACC,IAAL,CAAUzC,UAAU,GAAGE,KAAvB,CADX;AAGI,IAAA,QAAQ,EAAE,kBAACwC,KAAD,EAAQR,KAAR,EAAkB;AACxBrB,MAAAA,OAAO,CAACqB,KAAD,CAAP;AACH,KALL;AAMI,IAAA,KAAK,EAAC,SANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAjEJ,CArEJ,eAkJI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlJJ,CAFJ;AA0JH","sourcesContent":["import { makeStyles, Table, TableBody, TableCell, TableHead, TableRow } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios'\n\nimport * as Apis from '../../context/Api'\nimport './designation.css';\nimport Pagination from '@mui/material/Pagination';\nimport TableContainer from '@mui/material/TableContainer';\nimport Paper from '@mui/material/Paper';\nimport Info from '../../context/Info';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport Button from '@mui/material/Button';\n\n\nconst useStyle = makeStyles({\n    table: {\n        width: '70%',\n        margin: '10px 0 0 100px',\n        fontSize: '50'\n    },\n    thead: {\n        '& > *': {\n            background: '#000000',\n            color: '#ffffff'\n        }\n    }\n})\nexport default function Designationlist() {\n\n    const [users, setUsers] = useState([]);\n    const [status, setstatus] = useState('false')\n    //\n    const [sortOrder, setsortOrder] = useState(\"asc\")\n    const [deletId, setdeletId] = useState('')\n    const [open, setOpen] = useState(false);\n    const [srpage, setsrpage] = useState(1);\n    //seacrh bar start\n    const [searchTerm, setsearchTerm] = useState(\"\")\n    //seacrh bar ends\n\n\n    //Pagination starts \n    const [totalCount, settotalCount] = useState([]);\n    let Count = 4\n    // pagination ends\n\n\n\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const sorting = (col) => {\n        if (sortOrder === \"asc\") {\n            const sorted = [...users].sort((a, b) =>\n                a[col].toLowerCase() > b[col].toLowerCase() ? 1 : -1\n            );\n            setUsers(sorted);\n            setsortOrder(\"dsc\")\n        }\n        if (sortOrder === \"dsc\") {\n            const sorted = [...users].sort((a, b) =>\n                a[col].toLowerCase() < b[col].toLowerCase() ? 1 : -1\n            );\n            setUsers(sorted);\n            setsortOrder(\"asc\")\n        }\n    }\n    //\n\n\n\n\n\n\n\n\n\n    const classes = useStyle();\n\n\n    useEffect(\n        () => {\n            getData(1)\n\n        }, [active]\n    )\n\n    const getData = (page) => {\n        let data = {\n            createdById: Info.userInfo._id,\n\n            searchText: searchTerm,\n            page: page,\n            count: Count,\n            isDeleted: false,\n\n        }\n\n        axios.post(Apis.deslist(), data).then((response) => {\n            setUsers(response.data.data)\n            settotalCount(response.data.totalCount)\n            console.log(response.data.totalCount)\n            setsrpage(page)\n\n\n        })\n\n    };\n\n    const deleteUserData = (_id) => {\n        axios.post(Apis.delDes(), {\n            _id: _id\n        }).then((response) => {\n            getData();\n            toast(response.data.message);\n            setOpen(false);\n        })\n\n    }\n\n    return (\n\n        <div className={classes.table}>\n            <div>\n                <div className='row'>\n                    <div className=\"col-4\">\n                        <input type=\"text\" placeholder=\"Search...\" value={searchTerm} className=\"form-control mb-2\"\n                            onChange={(e) => {\n                                setsearchTerm(e.target.value)\n                            }}\n                        ></input>\n                    </div>\n                    <div className=\"col-3\">\n                        <select class=\"form-select\" aria-label=\"Default select example\">\n                            <option selected>Active status</option>\n\n                            <option value=\"2\">Active</option>\n                            <option value=\"3\">In active</option>\n                        </select>\n                    </div>\n                    <div className=\"col-3\">\n                        <select class=\"form-select\" aria-label=\"Default select example\">\n                            <option selected>Delete Status</option>\n\n                            <option value=\"2\">Deleted</option>\n                            <option value=\"3\">Not Deleted</option>\n                        </select>\n                    </div>\n                    <div className='col-1'>\n                        <span>\n                            <button type=\"submit\" className=\"btn btn-primary \" onClick={() => {\n                                if (searchTerm) {\n                                    getData(1)\n                                }\n\n                            }} >Search</button></span>\n                    </div>\n                    <div className='col-1'>\n                        <span>\n                            <button className=\"btn btn-danger \" onClick={() => {\n                                setsearchTerm('')\n                                getData(1)\n\n                            }}> clear</button>\n                        </span>\n                    </div>\n                </div>\n            </div>\n\n\n            <span>\n                {/* <div className=\"dropdown side\" >\n                    <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                        {active}\n                    </button>\n                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                        <li><Link className=\"dropdown-item\" onClick={() => {\n                            setactive(\"true\")\n                            // getData(0)\n                        }} >deleted</Link></li>\n                        <li><Link className=\"dropdown-item\" onClick={() => {\n                            setactive(\"false\")\n                            // getData(0)\n                        }}>not deleted</Link></li>\n                        <li><Link className=\"dropdown-item\" >Something else here</Link></li>\n                    </ul>\n                </div> */}\n\n            </span><br />\n\n            <Link to=\"/adddesignation\" className=\" btn btn-primary \">Add New Designation</Link>\n            <TableContainer component={Paper}>\n                <Table aria-label=\"simple table\" >\n                    <TableHead>\n                        <TableRow >\n\n                            <TableCell>S.No</TableCell>\n\n                            <TableCell onClick={() => sorting(\"title\")}>department<i className=\"bi bi-chevron-down\"></i></TableCell>\n\n                            <TableCell onClick={() => sorting(\"title\")}>Designation <i className=\"bi bi-chevron-down\"></i></TableCell>\n\n                            <TableCell>Action</TableCell>\n\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {\n                            users.map((user, index) => (\n                                <TableRow key={index}>\n\n                                    <TableCell>\n                                        {Count * (srpage - 1) + index + 1}\n\n                                    </TableCell>\n                                    <TableCell>\n                                        {user.title}\n                                    </TableCell>\n                                    <TableCell>\n                                        {user.departmentTitle}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link className=\"btn btn-success m-2\" to={`/editdesignation/${user._id}`} ><i className=\"bi bi-pencil-square\"></i></Link>\n                                        <button className=\"btn btn-danger\" onClick={() => {\n                                            setdeletId(user._id)\n                                            handleClickOpen()\n                                        }}>\n                                            <i className=\"bi bi-trash\"></i>\n                                        </button>\n                                        <Dialog\n                                            open={open}\n                                            onClose={handleClose}\n                                            aria-labelledby=\"draggable-dialog-title\"\n                                        >\n                                            <DialogContent>\n                                                <DialogContentText>\n                                                    Are you sure to delete this information..?\n                                                </DialogContentText>\n                                            </DialogContent>\n                                            <DialogActions>\n                                                <Button autoFocus onClick={handleClose}>\n                                                    No\n                                                </Button>\n                                                <Button onClick={() => { deleteUserData(deletId) }}>Yes </Button>\n                                            </DialogActions>\n                                        </Dialog>\n                                    </TableCell>\n                                </TableRow>\n                            ))\n\n                        }\n                    </TableBody>\n\n                </Table>\n\n\n                <div className=\" d-flex justify-content-center m-4\">\n                    <Pagination\n                        count={Math.ceil(totalCount / Count)}\n\n                        onChange={(event, value) => {\n                            getData(value)\n                        }}\n                        shape=\"rounded\"\n\n                    />\n                </div>\n            </TableContainer>\n            <ToastContainer />\n\n        </div>\n\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}